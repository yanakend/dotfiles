<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <head>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <title>Testing</title>

 </head>
 <body><div class="manualnavbar" style="text-align: center;">
 <div class="prev" style="text-align: left; float: left;"><a href="mysqlnd-ms.plugin-ini-v1.html">Plugin configuration file (&lt;= 1.0.x)</a></div>
 <div class="next" style="text-align: right; float: right;"><a href="mysqlnd-ms.debugging.html">Debugging and Tracing</a></div>
 <div class="up"><a href="mysqlnd-ms.setup.html">インストール/設定</a></div>
 <div class="home"><a href="index.html">PHP Manual</a></div>
</div><hr /><div id="mysqlnd-ms.testing" class="section">
  <h2 class="title">Testing</h2>
  <blockquote class="note"><p><b class="note">注意</b>: 
   <p class="para">
    The section applies to myslqnd_ms 1.1.0 or newer, not the 1.0 series.
   </p>
  </p></blockquote>
  <p class="para">
   The PECL/mysqlnd_ms test suite is in the <var class="filename">tests/</var>
   directory of the source distribution. The test suite consists of standard
   phpt tests, which are described on the PHP Quality Assurance Teams website.
  </p>
  <p class="para">
   Before running the tests, edit <var class="filename">tests/config.inc</var> to
   configure the MySQL servers to be used for testing. You will need at least
   one MySQL server to run the tests. However, configuring two distinct MySQL
   servers is better. If two distinct servers are configured, the tests can use
   one of them as a logical master and the other one as a logical slave. Those
   two servers do not need to be part of a MySQL replication cluster. Tests
   are written in a way that they can be successfully executed without having
   to setup a MySQL replication cluster. If two servers are configured they
   must allow login to a test database using the same username and password on
   both servers.
  </p>
  <p class="para">
   The most basic configuration is as follows.
   <div class="example-contents">
<div class="cdata"><pre>
 putenv(&quot;MYSQL_TEST_HOST=localhost&quot;);
 putenv(&quot;MYSQL_TEST_PORT=3306&quot;);
 putenv(&quot;MYSQL_TEST_USER=root&quot;);
 putenv(&quot;MYSQL_TEST_PASSWD=&quot;);
 putenv(&quot;MYSQL_TEST_DB=test&quot;);
 putenv(&quot;MYSQL_TEST_ENGINE=MyISAM&quot;);
 putenv(&quot;MYSQL_TEST_SOCKET=&quot;);

 putenv(&quot;MYSQL_TEST_SKIP_CONNECT_FAILURE=1&quot;);
 putenv(&quot;MYSQL_TEST_CONNECT_FLAGS=0&quot;);
 putenv(&quot;MYSQL_TEST_EXPERIMENTAL=0&quot;);

 putenv(&quot;MYSQL_TEST_MASTER_HOST=&quot;. getenv(&quot;MYSQL_TEST_HOST&quot;));
 putenv(&quot;MYSQL_TEST_SLAVE_HOST=&quot;. getenv(&quot;MYSQL_TEST_HOST&quot;));
</pre></div>
     </div>

   </p>
   <p class="para">
    <i>MYSQL_TEST_HOST</i>, <i>MYSQL_TEST_PORT</i> and
    <i>MYSQL_TEST_SOCKET</i> define the hostname,
    TCP/IP port and Unix domain socket of the default database server.
    <i>MYSQL_TEST_USER</i> and <i>MYSQL_TEST_PASSWD</i>
    contain the user and password needed to connect to the database/schema
    configured with <i>MYSQL_TEST_DB</i>. If using two distinct
    servers, a logical master and a logical slave server, both of them must
    have the same database user configured to give access to the test database.
   </p>
   <p class="para">
    Some tests require availability of two distinct MySQL test servers. Those
    tests will be skipped, if only one server is configured. To configure a logical
    slave server that runs on a different host and/or listens to a different port
    or socket than the default server, set <i>MYSQL_TEST_SLAVE_HOST</i>.
    Using <i>host</i>, <i>host:port</i> or <i>host:/path/to/socket</i>
    syntax for <i>MYSQL_TEST_SLAVE_HOST</i> you can set an alternate
    host, host and port or host and socket for the logical slave host.
    The same syntax can be used to set <i>MYSQL_TEST_MASTER_HOST</i>.
   <div class="example-contents">
<div class="cdata"><pre>
putenv(&quot;MYSQL_TEST_SLAVE_HOST=192.168.78.136:3307&quot;));
putenv(&quot;MYSQL_TEST_SLAVE_HOST=myserver_hostname:/path/to/socket&quot;));
</pre></div>
     </div>

   </p>
 </div><hr /><div class="manualnavbar" style="text-align: center;">
 <div class="prev" style="text-align: left; float: left;"><a href="mysqlnd-ms.plugin-ini-v1.html">Plugin configuration file (&lt;= 1.0.x)</a></div>
 <div class="next" style="text-align: right; float: right;"><a href="mysqlnd-ms.debugging.html">Debugging and Tracing</a></div>
 <div class="up"><a href="mysqlnd-ms.setup.html">インストール/設定</a></div>
 <div class="home"><a href="index.html">PHP Manual</a></div>
</div></body></html>
